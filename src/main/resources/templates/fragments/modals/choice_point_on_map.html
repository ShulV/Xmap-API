<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Choice point on map fragment</title>
</head>
<body>
<!-- Modal ymap -->
<div th:fragment="choice-point-on-ymap-modal (lonInputId, latInputId)"
     class="modal fade map-modal" id="mapModal" tabindex="-1" aria-labelledby="mapModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-fullscreen-sm-down map-modal__dialog">
    <div class="modal-content">
      <div class="modal-header map-modal__header">
        <h5 class="modal-title" id="mapModalLabel">Указание местоположения спота</h5>
        <svg class="map-modal__btn-close" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"
             data-bs-dismiss="modal" aria-label="Close">
          <path d="M5 5L19 19M5 19L19 5" stroke="#000000" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
        </svg>
      </div>
      <div class="modal-body map-modal__body">
        <div id="yandex-map-id" style="width: 100%; height: 100%; margin-bottom: 1rem;"></div>
      </div>
      <div class="modal-footer map-modal__footer">
        <button type="button" class="btn btn-orange" data-bs-dismiss="modal">Сохранить</button>
      </div>
    </div>
  </div>
  <script>
    function setCoordinates([lat, lon]) {
      document.getElementById('[[${latInputId}]]').value = lat.toFixed(6);
      document.getElementById('[[${lonInputId}]]').value = lon.toFixed(6);
    }
  </script>
  <script src="/js/location-util.js"></script>
  <script src="/js/ymap-point.js" defer></script>
</div>
</body>
</html>